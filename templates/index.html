<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI News - çŸ¥æ¡¥ C4</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- é¡¶éƒ¨æ ‡é¢˜åŒº -->
    <header class="header">
        <div class="container">
            <h1 class="title">AI News</h1>
            <p class="subtitle">æœ€åé‡‡é›†æ—¶é—´: {{ collected_at }}</p>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="container main-content">
        <!-- å·¦ä¾§åˆ†ç±»åˆ—è¡¨ -->
        <aside class="sidebar">
            <h2 class="sidebar-title">åˆ†ç±»</h2>
            <nav class="category-nav">
                <button class="category-item active" data-category="all">
                    <span class="category-icon">ğŸ“‹</span>
                    <span class="category-name">å…¨éƒ¨</span>
                    <span class="category-count">{{ total_items }}</span>
                </button>
                {% for category in categories %}
                <button class="category-item" data-category="{{ category.name }}">
                    <span class="category-icon">{{ category.icon }}</span>
                    <span class="category-name">{{ category.name }}</span>
                    <span class="category-count">{{ category.count }}</span>
                </button>
                {% endfor %}
            </nav>
        </aside>

        <!-- å³ä¾§å†…å®¹å¡ç‰‡åŒº -->
        <main class="content-area">
            <div class="content-header">
                <h2 class="content-title">æœ€æ–°å†…å®¹</h2>
                <p class="content-count">å…± <span id="current-count">{{ total_items }}</span> æ¡</p>
            </div>

            <div class="cards-grid" id="cards-container">
                {% for item in items %}
                <article class="card" data-category="{{ item.category }}">
                    <a href="{{ item.url }}" target="_blank" rel="noopener noreferrer" class="card-link">
                        {% if item.thumbnail_url or item.cover_image_url %}
                        <!-- æœ‰å°é¢å›¾çš„å¡ç‰‡ -->
                        <div class="card-image-wrapper">
                            <img src="{{ item.thumbnail_url or item.cover_image_url }}"
                                 alt="{{ item.title }}"
                                 class="card-image"
                                 loading="lazy">
                        </div>
                        <div class="card-content">
                            <h3 class="card-title">{{ item.title }}</h3>
                            <p class="card-description">{{ item.description | truncate_desc }}</p>
                            <div class="card-meta">
                                <span class="card-author">{{ item.author_name }}</span>
                                <span class="card-separator">â€¢</span>
                                <span class="card-date">{{ item.formatted_date }}</span>
                            </div>
                        </div>
                        {% else %}
                        <!-- æ— å°é¢å›¾çš„å¡ç‰‡ï¼Œä½¿ç”¨æ¸å˜èƒŒæ™¯ -->
                        <div class="card-gradient" data-category="{{ item.category }}">
                            <h3 class="card-title-centered">{{ item.title }}</h3>
                        </div>
                        <div class="card-content">
                            <p class="card-description">{{ item.description | truncate_desc }}</p>
                            <div class="card-meta">
                                <span class="card-author">{{ item.author_name }}</span>
                                <span class="card-separator">â€¢</span>
                                <span class="card-date">{{ item.formatted_date }}</span>
                            </div>
                        </div>
                        {% endif %}
                    </a>
                </article>
                {% endfor %}
            </div>

            {% if total_items == 0 %}
            <div class="empty-state">
                <p class="empty-icon">ğŸ“­</p>
                <p class="empty-text">æš‚æ— å†…å®¹</p>
                <p class="empty-hint">è¯·å…ˆè¿è¡Œé‡‡é›†ç¨‹åºè·å–æ•°æ®</p>
            </div>
            {% endif %}
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
