# Web 展示功能使用说明

## 功能概述

知桥 C4 提供了一个美观的 Web 界面来展示采集的内容，包括：

- 📰 页面顶部显示 "AI News" 标题和最后采集时间
- 📊 左侧显示分类列表（全部、Video、Podcast、News）
- 🎴 右侧用卡片形式平铺展示内容
- 🖼️ 每个卡片包含标题、简介、作者、发布时间
- 🎨 有封面图的显示封面，没有的用精美渐变背景
- 🎯 点击卡片在新标签页打开原文链接
- 🔍 支持按分类筛选内容
- ⌨️ 支持键盘快捷键操作

## 快速开始

### 1. 先采集数据

在启动 Web 界面之前，需要先运行采集程序获取数据：

```bash
uv run python collect_demo.py
```

采集的数据会保存在 `data/` 目录下。

### 2. 启动 Web 服务器

```bash
uv run python app.py
```

启动后会显示：

```
============================================================
知桥 C4 - AI News 展示系统
============================================================

服务器启动中...
访问地址: http://127.0.0.1:8080
按 Ctrl+C 停止服务器

============================================================
```

### 3. 访问网页

在浏览器中打开 [http://127.0.0.1:8080](http://127.0.0.1:8080)

## 页面功能

### 顶部区域
- **AI News 标题**：醒目的渐变紫色背景
- **最后采集时间**：显示数据的最后更新时间

### 左侧分类导航
点击分类可以筛选内容：
- 📋 **全部**：显示所有内容
- 🎥 **Video**：只显示视频内容
- 🎙️ **Podcast**：只显示播客内容
- 📰 **News**：只显示新闻内容

每个分类后面显示该分类的内容数量。

### 右侧内容卡片

#### 有封面图的卡片
- 顶部显示封面图（200px 高度）
- 标题（最多显示 2 行）
- 简介（最多显示 3 行）
- 底部显示作者和发布时间

#### 无封面图的卡片
- 顶部使用渐变背景（不同分类不同颜色）
- 标题居中显示在渐变背景中
- 简介和元信息同上

渐变背景颜色：
- Video: 粉红到红色渐变
- Podcast: 蓝色到青色渐变
- News: 绿色到青绿色渐变
- 其他: 紫色渐变

### 交互效果
- **鼠标悬停**：卡片向上浮动，显示阴影
- **点击卡片**：在新标签页打开原文链接
- **切换分类**：平滑的淡入动画
- **图片加载失败**：自动转换为渐变背景

## 键盘快捷键

- **数字 1-4**：快速切换分类
  - `1`：全部
  - `2`：第一个分类（Video）
  - `3`：第二个分类（Podcast）
  - `4`：第三个分类（News）
- **ESC**：返回"全部"分类

## API 接口

系统提供了 RESTful API 接口：

### 获取所有内容
```
GET /api/items
```

返回：
```json
{
  "items": [...],
  "total": 10
}
```

### 按分类获取内容
```
GET /api/items/<category>
```

例如：
- `/api/items/Video`
- `/api/items/Podcast`
- `/api/items/News`

## 响应式设计

页面完全响应式，支持：
- 桌面端（1400px+）：3-4 列卡片布局
- 平板端（768px - 1024px）：2-3 列卡片布局
- 移动端（< 768px）：1 列卡片布局，分类横向滚动

## 自定义配置

### 修改端口

编辑 `app.py` 文件，修改最后一行：

```python
app.run(debug=True, host='0.0.0.0', port=8080)  # 修改端口号
```

### 修改样式

CSS 文件位置：`static/css/style.css`

主要样式变量在文件开头的 `:root` 中定义：

```css
:root {
    --primary-color: #2563eb;      /* 主色调 */
    --text-primary: #1f2937;       /* 主文字颜色 */
    --bg-primary: #ffffff;         /* 主背景色 */
    /* ... */
}
```

### 修改交互行为

JavaScript 文件位置：`static/js/main.js`

## 数据更新

Web 界面会自动读取 `data/` 目录下最新的采集结果文件。

要更新显示的内容：
1. 运行 `uv run python collect_demo.py` 采集新数据
2. 刷新浏览器页面（或服务器会自动重新加载）

## 故障排除

### 问题：页面显示"暂无数据"

**解决方法**：
1. 确认 `data/` 目录下有 JSON 文件
2. 运行 `uv run python collect_demo.py` 采集数据
3. 刷新浏览器页面

### 问题：端口被占用

**解决方法**：
1. 修改 `app.py` 中的端口号
2. 或者停止占用 8080 端口的程序

### 问题：图片无法显示

**解决方法**：
- 图片加载失败会自动转换为渐变背景
- 检查网络连接
- 某些图片链接可能需要翻墙访问

## 技术栈

- **后端**：Flask 3.0+
- **前端**：原生 HTML/CSS/JavaScript
- **样式**：CSS Grid + Flexbox
- **动画**：CSS Transitions + Animations

## 开发模式

当前 Web 应用运行在开发模式（`debug=True`），会：
- 自动重新加载代码更改
- 显示详细的错误信息
- 提供调试器

**生产环境部署请使用 WSGI 服务器（如 Gunicorn）**

## 下一步计划

- [ ] 添加实时数据更新（WebSocket）
- [ ] 支持搜索功能
- [ ] 添加收藏功能
- [ ] 支持暗色模式切换
- [ ] 添加数据统计图表
- [ ] 支持导出为 PDF/Markdown

---

**享受使用 AI News！** 🎉
